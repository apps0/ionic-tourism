<ng-container *ngIf='(data$|async) as res'>
  <ng-container *ngIf='res.data;else notificationTemplate;'>
    <ion-card *ngFor="let place of res.data">
      <div class="image-container">
        <div *ngIf='!place.ImageUrl' class="image-placeholder"></div>
        <img *ngIf='place.ImageUrl' [src]="place.ImageUrl" alt="">
      </div>
      <ion-card-header class="place-header">
        <ion-card-title class="capitalize">{{place.Name}}</ion-card-title>
        <ion-card-subtitle>{{place.Description}}</ion-card-subtitle>
        <ion-fab vertical="top" horizontal="end" edge>
          <ion-fab-button [appLocation]='place?.LatLng' color='secondary'>
            <ion-icon name="compass"></ion-icon>
          </ion-fab-button>
          <ion-fab-button (click)='onSelect(place)' *ngIf='enableSelection'>
            <ion-icon name="add"></ion-icon>
          </ion-fab-button>
        </ion-fab>
      </ion-card-header>
    </ion-card>
  </ng-container>
  <ng-template #notificationTemplate>
    <ng-container *ngIf='res.error||res.empty;else loadingTemplate;'>
      <div class="item-center" [hidden]='!res.error'>
        Something went wrong , Try again later .
      </div>
      <div class="item-center" [hidden]='!res.empty'>
        List is empty.
      </div>
    </ng-container>
    <ng-template #loadingTemplate>
      <div class="item-center">
        <ion-spinner name="lines"></ion-spinner>
      </div>
    </ng-template>
  </ng-template>
</ng-container>